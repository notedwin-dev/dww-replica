<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>大胃王 (replica) - Multiplayer</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <link rel="stylesheet" href="styles-multiplayer.css">
  <script src="js/clientCrypto.js"></script>
</head>

<body>
  <div class="container">
    <h1>大胃王 (replica) - Multiplayer</h1>
    <!-- Online player count indicator -->
    <div class="online-players">
      <span id="player-count">0</span> players online
    </div>

    <div class="countdown">
      <p>Time Left: <span id="countdown"></span> seconds</p>
    </div>

    <div class="coins">Coins: <span id="coins">10000</span></div>
    <div class="bet-options">
      <button id="bet-50" onclick="selectBetAmount(50)">50 Coins</button>
      <button id="bet-500" onclick="selectBetAmount(500)">500 Coins</button>
      <button id="bet-5000" onclick="selectBetAmount(5000)">5000 Coins</button>
    </div>
    <div class="animals">
      <div class="row">
        <div class="column">
          <button onclick="selectAnimal('turtle')">
            🐢乌龟
          </button>
          <p class="bet-info">
            <span id="bet-turtle">0</span> coins
          </p>
        </div>
        <div class="column">
          <button onclick="selectAnimal('hedgehog')">🦔刺猬</button>
          <p class="bet-info">
            <span id="bet-hedgehog">0</span> coins
          </p>
        </div>
        <div class="column">
          <button onclick="selectAnimal('raccoon')">🦝浣熊</button>
          <p class="bet-info">
            <span id="bet-raccoon">0</span> coins
          </p>
        </div>
        <div class="column">
          <button onclick="selectAnimal('elephant')">🐘小象</button>
          <p class="bet-info">
            <span id="bet-elephant">0</span> coins
          </p>
        </div>
      </div>
      <div class="row">
        <div class="column">
          <button onclick="selectAnimal('cat')">😼猫咪</button>
          <p class="bet-info">
            <span id="bet-cat">0</span> coins
          </p>
        </div>
        <div class="column">
          <button onclick="selectAnimal('fox')">🦊狐狸</button>
          <p class="bet-info">
            <span id="bet-fox">0</span> coins
          </p>
        </div>
        <div class="column">
          <button onclick="selectAnimal('pig')">🐖猪猪</button>
          <p class="bet-info">
            <span id="bet-pig">0</span> coins
          </p>
        </div>
        <div class="column">
          <button onclick="selectAnimal('lion')">🦁狮子</button>
          <p class="bet-info">
            <span id="bet-lion">0</span> coins
          </p>
        </div>
      </div>
    </div>
    <div class="bet-info" id="bet-info"></div>
    <div class="actions">
      <button id="view-records" onclick="toggleFoldResults()">View Records</button>
      <button id="view-leaderboard" onclick="showLeaderboard()">Leaderboard</button>
    </div>
    <div class="result" id="result"></div>
    <div class="past-results" id="past-results">
      <h2>Past Results</h2>
      <ul id="past-results-list">
      </ul>
    </div>
  </div>

  <!-- A popup modal for the game result -->
  <div id="popup-modal">
    <table class="popup-content" id="history-table" style="display: none;">
      <thead>
        <tr>
          <th>Animal</th>
          <th>Total bets</th>
          <th>Winnings</th>
          <th>Result At</th>
        </tr>
      </thead>
      <tbody id="folded-result-tbody">
        <tr id="past-results-trow">
        </tr>
      </tbody>
    </table> <button id="close-button" class="popup-modal-close-button" style="display: none;">X Close</button>
  </div>
  <!-- Leaderboard Modal -->
  <div id="leaderboard-modal" class="popup-modal" style="display: none;">
    <div class="popup-content">
      <h2>Leaderboard</h2>
      <table id="leaderboard-table">
        <thead>
          <tr>
            <th>Rank</th>
            <th>Player</th>
            <th>Coins</th>
            <th>Wins</th>
          </tr>
        </thead>
        <tbody id="leaderboard-body">
          <!-- Leaderboard entries will be inserted here -->
        </tbody>
      </table>
      <button id="close-leaderboard" class="popup-modal-close-button">X Close</button>
    </div>
  </div>

  <script src="script-multiplayer.js"></script>
</body>

</html>